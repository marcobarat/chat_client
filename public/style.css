:root{
  --bg:#0e1328; --card:#121a3a; --muted:#1b2753; --text:#e9eefb; --accent:#5da0ff; --danger:#ff5c7a; --success:#3ecf8e;
  --bubble:#0f1636;
}
:root.light{
  --bg:#f7f8fb; --card:#ffffff; --muted:#e7e9f2; --text:#091123; --accent:#2956a8; --danger:#c21b3a; --success:#198754;
  --bubble:#f0f3fb;
}
*{ box-sizing:border-box; }
html,body,#root{ height:100%; background:var(--bg); color:var(--text); margin:0; font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans;}
a{ color:var(--accent); text-decoration:none;}
button{ background:linear-gradient(180deg,#2e58a0,#244781); border:none; color:#fff; padding:10px 14px; border-radius:12px; cursor:pointer; box-shadow:0 4px 16px rgba(0,0,0,.25); }
button:hover{ filter:brightness(1.05); }
input,select,textarea{ background:#0d1533; border:1px solid var(--muted); color:var(--text); padding:10px 12px; border-radius:12px; }
:root.light input, :root.light select, :root.light textarea{ background:#fff; color:#091123; border-color:#d8dbe7; }
.card{ background:var(--card); border:1px solid var(--muted); border-radius:18px; box-shadow:0 8px 30px rgba(0,0,0,.15); }
.row{ display:flex; align-items:center; gap:10px; }
.stack{ display:flex; flex-direction:column; gap:10px; }
.header{ display:flex; align-items:center; justify-content:space-between; padding:12px; position:sticky; top:0; background:rgba(0,0,0,.08); backdrop-filter:blur(8px); border-bottom:1px solid var(--muted); z-index:10; }
.container{ max-width:1100px; margin:0 auto; padding:16px; animation: fadeIn .3s ease }
.grid2{ display:grid; grid-template-columns: 2fr 1fr; gap:16px; }
.badge{ padding:4px 8px; border-radius:999px; background:#0d1533; border:1px solid var(--muted); font-size:12px; }
:root.light .badge{ background:#eef2ff; }
.tag{ padding:4px 8px; border-radius:8px; background:#0d1533; border:1px solid var(--muted); font-size:12px; display:inline-block; }
:root.light .tag{ background:#f2f4ff; }
.room-title{ font-weight:700; font-size:18px; }
.chat-log{ height:55vh; overflow:auto; padding:12px; border-bottom:1px solid var(--muted); }
.system{ color:#ff667d; font-style:italic; }
.userlist{ background:var(--card); border:1px solid var(--muted); border-radius:18px; padding:12px; }
.user-item{ display:flex; align-items:center; justify-content:space-between; padding:8px; border-radius:12px; }
.user-item:hover{ background:#0d1533; }
:root.light .user-item:hover{ background:#f5f7ff; }
.user-left{ display:flex; align-items:center; gap:10px; }
.icon{ width:18px; height:18px; }
.chat-input{ flex:1; min-width:0; }
.modal-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.35); display:flex; align-items:center; justify-content:center; }
.modal{ width:520px; max-width:92vw; background:var(--card); border:1px solid var(--muted); border-radius:18px; padding:14px; }
.table{ width:100%; border-collapse:collapse; }
.table th,.table td{ border-top:1px solid var(--muted); padding:8px; text-align:left; }
@keyframes fadeIn { from{ opacity:.0; transform: translateY(4px);} to{ opacity:1; transform:none;} }
.chat-msg { display:flex; gap:8px; margin:6px 0; line-height:1.35 }
.chat-msg .meta { opacity:.7; font-size:11px; min-width:64px; text-align:right }
.chat-msg .bubble { background:var(--bubble); border:1px solid var(--muted); padding:8px 10px; border-radius:12px; flex:1; }
.day-sep { text-align:center; margin:12px 0; opacity:.8; font-size:12px }
.typing { opacity:.8; font-style:italic; padding:6px 10px }
.mention { background:rgba(93,160,255,.2); border-bottom:1px dotted var(--accent) }
.autolink { text-decoration:underline; cursor:pointer }
.header .badge-dot{ background:var(--danger); width:10px; height:10px; border-radius:999px; margin-left:6px; display:inline-block; }